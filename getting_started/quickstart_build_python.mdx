---
title: "Quickstart: Python"
icon: "code"
description: "Deploy your first Python Streamable HTTP MCP server in minutes"
---

![uvx smithery init](../images/py-playground.png)

In this quickstart, we'll build a simple MCP server that says hello to users. We'll use the official Python MCP SDK with the Smithery CLI. By the end, you'll have a live, deployed server with built-in authentication that you can connect to from any MCP client.

For TypeScript, check out our [TypeScript quickstart guide](/getting_started/quickstart_build_typescript).

### Prerequisites

- [Python](https://python.org/) >=3.10
- [uv](https://docs.astral.sh/uv/getting-started/installation/) (Python package manager)
- A [Smithery API key](https://smithery.ai) for development features
- [Node.js](https://nodejs.org/) (optional, for local playground testing)

### 1. Initialize the Server

```bash
uvx smithery init
```

This sets up a Python MCP server scaffold with example code and all necessary dependencies.


### 2. Edit the Server

In `src/hello_server/server.py`, you'll see a default server that says hello to a given name. Edit it to add your own tools, resources, and prompts.

Here's the basic structure:

```python
from pydantic import BaseModel, Field
from mcp.server.fastmcp import Context, FastMCP # [!code highlight]

from smithery.decorators import smithery # [!code highlight]

# Optional: Configuration schema for session
class ConfigSchema(BaseModel):
    access_token: str = Field(..., description="Your access token for authentication")
    pirate_mode: bool = Field(False, description="Speak like a pirate") # [!code highlight]

@smithery.server(config_schema=ConfigSchema) # [!code highlight]
def create_server(): # [!code highlight]
    """Create and configure the MCP server."""
    
    # Create your FastMCP server as usual # [!code highlight]
    server = FastMCP("Say Hello") # [!code highlight]

    # Add a tool
    @server.tool() # [!code highlight]
    def hello(name: str, ctx: Context) -> str: # [!code highlight]
        """Say hello to someone.""" # [!code highlight]
        # Access session-specific config through context # [!code highlight]
        session_config = ctx.session_config # [!code highlight]
        
        # In real apps, use token for API requests: # [!code highlight]
        # requests.get(url, headers={"Authorization": f"Bearer {session_config.access_token}"}) # [!code highlight]
        # For now, we'll just make sure it exists # [!code highlight]
        if not session_config.access_token: # [!code highlight]
            return "Error: Access token required" # [!code highlight]
            
        # Create greeting based on pirate mode # [!code highlight]
        if session_config.pirate_mode: # [!code highlight]
            return f"Ahoy, {name}!" # [!code highlight]
        else: # [!code highlight]
            return f"Hello, {name}!" # [!code highlight]

    # The scaffold also includes example resources and prompts
    # @server.resource("example://resource")
    # @server.prompt()

    return server # [!code highlight]
```

<Accordion title="How does the @smithery.server() decorator work?">
The `@smithery.server()` decorator enhances any FastMCP server with deployment features:

```python
# You create FastMCP as usual
server = FastMCP("My Server")

@server.tool()
def my_tool(arg: str, ctx: Context) -> str:
    # Access session-specific config via context
    config = ctx.session_config
    return f"Hello {arg}!"

# Smithery adds:
# - Session-scoped configuration management  
# - CORS headers for web client compatibility
# - Runtime patches for deployment environment
```

You write normal FastMCP code, and Smithery automatically enhances it for production deployment. Each session gets its own config, enabling per-user customization.
</Accordion>

<Accordion title="How does Smithery find your server?">
The scaffold creates a `pyproject.toml` file with this configuration:

```toml
[tool.smithery]
server = "hello_server.server:create_server"
```

This tells Smithery exactly where to find your server function using Python's import syntax: `module.path:function_name`. The `@smithery.server()` decorator then provides all the configuration metadata (config schema, server name, etc.).
</Accordion>

<Tip>
**Adding config schema (optional)**

Smithery allows users to customize server behavior for each session by providing API keys, adjusting settings, or modifying operational parameters. Define a `ConfigSchema` using Pydantic and pass it to the `@smithery.server()` decorator:

```python
class ConfigSchema(BaseModel):
    api_key: str = Field(..., description="Weather API key")
    temperature_unit: str = Field("celsius", description="Temperature unit preference")
    debug: bool = Field(False, description="Enable debug logging")

@smithery.server(config_schema=ConfigSchema)
def create_server():
    server = FastMCP("Weather Server")
    
    @server.tool()
    def get_weather(city: str, ctx: Context) -> str:
        config = ctx.session_config
        # Use config.api_key for API requests
        # Use config.temperature_unit for formatting
        # Use config.debug for logging
        return f"Weather for {city}"
    
    return server
```
</Tip>

### 3. Testing the Server

For local development:

```bash
uv run dev
```

This launches your server locally for development and testing.

For testing in the Smithery Playground:

```bash
uv run playground
```

This will port-forward your local server to the Smithery Playground via ngrok. You can now test your server by prompting something like "Say hello to Henry".

### 4. Deploy the Server

<img
  src="../images/deploy-2.png"
  alt="Deployment"
/>

Deployment is a one-click process. Just [make a GitHub repo](https://github.com/new), push your local changes, and then [click "Deploy" on the Smithery home page](https://smithery.ai/new).


